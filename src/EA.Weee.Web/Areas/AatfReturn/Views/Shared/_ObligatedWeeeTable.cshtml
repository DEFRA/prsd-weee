@using EA.Prsd.Core.Web.Mvc.RazorHelpers
@using EA.Weee.Core.DataStandards
@using EA.Weee.Web.Extensions
@model EA.Weee.Web.Areas.AatfReturn.ViewModels.ObligatedViewModel
@{
    ViewBag.Title = "Obligated WEEE";
}

<div class="govuk-table">
    <div class="govuk-table govuk-table__head">
        <div class="govuk-grid-row govuk-table__row govuk-table__header">
            <div class="govuk-grid-column-one-half" style="padding-left: 0; padding-right: 0px;">&nbsp;</div>
            <div class="govuk-grid-column-one-quarter" style="padding-left: 0; padding-right: 0px;">
                <span>B2C in tonnes</span>
            </div>
            <div class="govuk-grid-column-one-quarter" style="padding-left: 0; padding-right: 0px;">
                <span>B2C in tonnes</span>
            </div>
        </div>
    </div>
    <div class="govuk-table__body">
    @for (var i = 0; i < Model.CategoryValues.Count; i++)
    {
        var category = Model.CategoryValues[i];

        <div class="govuk-grid-row govuk-table__cell">
            <div class="govuk-grid-column-one-half govuk-!-padding-bottom-0 " style="padding-left: 0; padding-right: 0px;" id="@category.CategoryId">
                @(@category.CategoryId). @category.CategoryDisplay
                @Html.HiddenFor(m => m.CategoryValues[i].CategoryId)
                @Html.HiddenFor(m => m.CategoryValues[i].CategoryDisplay)
                @Html.HiddenFor(m => m.CategoryValues[i].Id)
            </div>
            <div class="govuk-grid-column-one-quarter " style="padding-left: 0; padding-right: 0px;">
                <div class="govuk-form-group @Html.Gds().FormGroupClass(m => m.CategoryValues[i], m => m.CategoryValues[i].B2C)">
                    @Html.Gds().ValidationMessageFor(m => m.CategoryValues[i].B2C)
                    @Html.TextBoxFor(m => m.CategoryValues[i].B2C, new { @class = "govuk-input govuk-input--width-10 weee-input", aria_labelledby = @category.CategoryId, autocomplete = "off", maxlength = CommonMaxFieldLengths.Tonnage })
                </div>
            </div>
            <div class="govuk-grid-column-one-quarter " style="padding-left: 0; padding-right: 0px;">
                <div class="govuk-form-group @Html.Gds().FormGroupClass(m => m.CategoryValues[i], m => m.CategoryValues[i].B2B)">
                    @Html.Gds().ValidationMessageFor(m => m.CategoryValues[i].B2B)
                    @Html.TextBoxFor(m => m.CategoryValues[i].B2B, new { @class = "govuk-input govuk-input--width-10 weee-input", aria_labelledby = @category.CategoryId, autocomplete = "off", maxlength = CommonMaxFieldLengths.Tonnage })
                </div>
            </div>
        </div>
    }
        <div class="govuk-grid-row  govuk-table__cell">
            <div class="govuk-grid-column-one-half"><h3 class="govuk-heading-m">Total (tonnes)</h3></div>
            <div class="govuk-grid-column-one-quarter">
                <h3 class="govuk-heading-m" style="text-align: right" id="B2CTotal" name="B2CTotal">@Model.B2CTotal</h3>
            </div>
            <div class="govuk-grid-column-one-quarter">
                <h3 class="govuk-heading-m" style="text-align: right" id="B2BTotal" name="B2BTotal">@Model.B2BTotal</h3>
            </div>
        </div>
    </div>
</div>
<table class="govuk-table" id="weee-data-entry-table">
    <thead class="govuk-table__head">
        <tr class="govuk-table__row">
            <td class="govuk-table__header govuk-!-width-one-half" scope="col"></td>
            <th class="govuk-table__header govuk-!-margin-bottom-0 govuk-!-width-one-quarter" scope="col">
                <div class="govuk-body govuk-!-font-weight-bold govuk-!-margin-bottom-1" style="float:right; text-align:left; width:22ex">
                    B2C in tonnes
                </div>
            </th>
            <th class="govuk-table__header govuk-!-margin-bottom-0 govuk-!-width-one-quarter" scope="col">
                <div class="govuk-body govuk-!-font-weight-bold govuk-!-margin-bottom-1" style="float:right; text-align:left; width:22ex">
                    B2B in tonnes
                </div>
            </th>
        </tr>
    </thead>
    <tbody class="govuk-table__body">

        @for (var i = 0; i < Model.CategoryValues.Count; i++)
        {
            var category = Model.CategoryValues[i];

            <tr class="govuk-table__row">
                <td class="govuk-table__cell govuk-!-padding-bottom-0" id="@category.CategoryId">
                    @(@category.CategoryId). @category.CategoryDisplay
                    @Html.HiddenFor(m => m.CategoryValues[i].CategoryId)
                    @Html.HiddenFor(m => m.CategoryValues[i].CategoryDisplay)
                    @Html.HiddenFor(m => m.CategoryValues[i].Id)
                </td>
                <td class="govuk-table__cell">
                    <div class="govuk-form-group @Html.Gds().FormGroupClass(m => m.CategoryValues[i], m => m.CategoryValues[i].B2C)">
                        @Html.Gds().ValidationMessageFor(m => m.CategoryValues[i].B2C)
                        @Html.TextBoxFor(m => m.CategoryValues[i].B2C, new { @class = "govuk-input govuk-input--width-10 weee-input", @style = "float:right; text-align: right", aria_labelledby = @category.CategoryId, autocomplete = "off", maxlength = CommonMaxFieldLengths.Tonnage })
                    </div>
                </td>
                <td class="govuk-table__cell">
                    <div class="govuk-form-group @Html.Gds().FormGroupClass(m => m.CategoryValues[i], m => m.CategoryValues[i].B2B)">
                        @Html.Gds().ValidationMessageFor(m => m.CategoryValues[i].B2B)
                        @Html.TextBoxFor(m => m.CategoryValues[i].B2B, new { @class = "govuk-input govuk-input--width-10 weee-input", @style = "float:right; text-align: right", aria_labelledby = @category.CategoryId, autocomplete = "off", maxlength = CommonMaxFieldLengths.Tonnage })
                    </div>
                </td>
            </tr>
        }
        <tr class="govuk-table__row">
            <td class="govuk-table__cell">
                <h3 class="govuk-heading-m">Total (tonnes)</h3>
            </td>
            <td class="govuk-table__cell govuk-!-margin-bottom-0">
                <h3 class="govuk-heading-m" style="text-align: right" id="B2CTotal" name="B2CTotal">@Model.B2CTotal</h3>
            </td>
            <td class="govuk-table__cell govuk-!-margin-bottom-0">
                <h3 class="govuk-heading-m" style="text-align: right" id="B2BTotal" name="B2BTotal">@Model.B2BTotal</h3>
            </td>
        </tr>
    </tbody>
</table>