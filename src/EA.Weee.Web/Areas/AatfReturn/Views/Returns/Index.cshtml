@using EA.Prsd.Core.Web.Mvc.RazorHelpers
@using EA.Weee.Web.Infrastructure
@using EA.Weee.Web.RazorHelpers
@model EA.Weee.Web.Areas.AatfReturn.ViewModels.ReturnsViewModel
@{
    ViewBag.Title = "Manage AATF returns";
}

    <section id="main-content">
        <h1 class="govuk-heading-l">
            @ViewBag.Title
        </h1>

        <div class="govuk-grid-row">
            <div class="govuk-grid-column-one-half">
                @using (Html.BeginRouteForm(AatfRedirect.Default, FormMethod.Post, null))
                {
                    @Html.AntiForgeryToken()
                    @Html.HiddenFor(m => m.OrganisationId)

                    <div class="govuk-form-group">
                        <button class="govuk-button" type="submit">Start a new return for Q1 2019</button>
                    </div>
                }
            </div>
        </div>

        <table class="govuk-table prsd-table-collapse">
            <caption class="govuk-table__caption govuk-visually-hidden">Manage AATF returns</caption>
            <thead class="govuk-table__head prsd-table-collapse prsd-table-collapse-header">
                <tr class="govuk-table__row prsd-table-collapse prsd-table-collapse-header" style="text-align:right">
                    <th class="govuk-table__header prsd-table-collapse" style="text-align:right" scope="col">Year</th>
                    <th class="govuk-table__header prsd-table-collapse" style="text-align:right" scope="col">Quarter</th>
                    <th class="govuk-table__header prsd-table-collapse" style="text-align:right" scope="col">Total obligated (t)</th>
                    <th class="govuk-table__header prsd-table-collapse" style="text-align:right" scope="col">Total non-obligated (t)</th>
                    <th class="govuk-table__header prsd-table-collapse" scope="col">Created by</th>
                    <th class="govuk-table__header prsd-table-collapse" scope="col">Submitted date</th>
                    <th class="govuk-table__header prsd-table-collapse" scope="col">Submitted by</th>
                    <th class="govuk-table__header prsd-table-collapse" scope="col">Status</th>
                    <th class="govuk-table__header prsd-table-collapse" scope="col"><span class="govuk-visually-hidden">Action</span></th>
                </tr>
            </thead>
            <tbody class="govuk-table__body prsd-table-collapse">

            @for (var returnCount = 0; returnCount < Model.Returns.Count; returnCount++)
            {
                var item = Model.Returns[returnCount];

                <tr class="govuk-table__row prsd-table-collapse prsd-table-collapse-row">
                    <td class="govuk-table__cell prsd-table-collapse prsd-table-collapse-cell" style="text-align:right">@item.ReturnViewModel.Year</td>
                    <td class="govuk-table__cell prsd-table-collapse prsd-table-collapse-cell" style="text-align:right">@item.ReturnViewModel.Quarter</td>
                    <td class="govuk-table__cell prsd-table-collapse prsd-table-collapse-cell" style="text-align:right">@item.ReturnViewModel.ObligatedTotal</td>
                    <td class="govuk-table__cell prsd-table-collapse prsd-table-collapse-cell" style="text-align:right">@item.ReturnViewModel.NonObligatedTotal</td>
                    <td class="govuk-table__cell prsd-table-collapse prsd-table-collapse-cell">@item.ReturnViewModel.CreatedBy</td>
                    <td class="govuk-table__cell prsd-table-collapse prsd-table-collapse-cell">@item.ReturnViewModel.SubmittedDate</td>
                    <td class="govuk-table__cell prsd-table-collapse prsd-table-collapse-cell">@item.ReturnViewModel.SubmittedBy</td>
                    <td class="govuk-table__cell prsd-table-collapse prsd-table-collapse-cell">@item.ReturnViewModel.ReturnStatus</td>
                    @*<td class="govuk-table__cell prsd-table-collapse prsd-table-collapse-cell">
                        @
                            @Html.NavigationRouteLink("Continue", "Continue return","Test", new { organisationId = Model.OrganisationId, returnId = @item.ReturnViewModel.ReturnId, redirectReportingOptions = @item.ReturnsListRedirectOptions.RedirectReportingOptions, redirectSelectYourPcs = @item.ReturnsListRedirectOptions.RedirectSelectYourPcs, redirectTaskList = @item.ReturnsListRedirectOptions.RedirectTaskList })
                        }
                    </td>*@
                </tr>
            }

            </tbody>
        </table>
        <p>
            @Html.ActionLink("Perform another activity", "ChooseActivity", "Home", new { area = "Scheme", pcsId = @Model.OrganisationId }, null)
        </p>
        <style type="text/css">

            @@media only screen and (max-width: 760px), (min-device-width: 768px) and (max-device-width: 1024px) {
                td:nth-of-type(1):before {
                    content: "Year";
                }

                td:nth-of-type(2):before {
                    content: "Quarter";
                }

                td:nth-of-type(3):before {
                    content: "Total obligated (t)";
                }

                td:nth-of-type(4):before {
                    content: "Total non-obligated (t)";
                }

                td:nth-of-type(5):before {
                    content: "Created by";
                }

                td:nth-of-type(6):before {
                    content: "Submitted date";
                }

                td:nth-of-type(7):before {
                    content: "Submitted by";
                }

                td:nth-of-type(8):before {
                    content: "Status";
                }
            }
        </style>

    </section>
