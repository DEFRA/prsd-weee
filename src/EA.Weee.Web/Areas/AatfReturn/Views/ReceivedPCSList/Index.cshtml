@using EA.Weee.Core.AatfReturn
@using EA.Weee.Web.Infrastructure
@using EA.Prsd.Core.Web.Mvc.RazorHelpers
@using EA.Weee.Web.RazorHelpers
@using MvcNavigationHelpers
@using EA.Weee.Web.Areas.AatfReturn.Controllers
@model EA.Weee.Web.Areas.AatfReturn.ViewModels.ReceivedPcsListViewModel
@{
    var aatfName = Model.AatfName;
    ViewBag.Title = "WEEE received for treatment at " + aatfName + " - GOV.UK";
}

<section id="main-content">
    <header class="hgroup">
        <div>
            <h1 class="govuk-heading-l">
                WEEE received for treatment at @Model.AatfName
            </h1>
        </div>
    </header>
    <div class="govuk-!-padding-bottom-3"></div>

    <table class="govuk-table">
        <thead class="govuk-table__head">
            <tr class="govuk-table__row">
                <th scope="col" class="govuk-table__header">PCS name</th>
                <th scope="col" class="govuk-table__header">Approval number</th>
                <th scope="col" class="govuk-table__header">B2C (tonnes)</th>
                <th scope="col" class="govuk-table__header">B2B (tonnes)</th>
                <th scope="col" class="govuk-table__header govuk-table_action_header">
                    <span class="govuk-visually-hidden">Actions</span>
                </th>
            </tr>
        </thead>
        <tbody class="govuk-table__body">
            @foreach (var item in Model.SchemeList)
            {
                <tr class="govuk-table__row">
                    <td class="govuk-table__cell">@item.SchemeName</td>
                    <td class="govuk-table__cell">@item.ApprovalNumber</td>
                    <td class="govuk-table__cell">@item.Tonnages.B2C</td>
                    <td class="govuk-table__cell">@item.Tonnages.B2B</td>
                    <td class="govuk-table__cell">
                        @Html.NavigationRouteLink("add / edit data", "add / edit data for " + @item.SchemeName,
                                                  AatfRedirect.AatfSchemeSelectedRoute,
                                                  new
                                                       {
                                                           returnId = Model.ReturnId,
                                                        schemeId = @item.SchemeId,
                                                        aatfId = Model.AatfId,
                                                        action = "Index",
                                                        controller = "ObligatedReceived"
                                                       }, null)
                    </td>
                </tr>
            }
        </tbody>
    </table>

    <div class=" govuk-!-font-size-19">
        <p>
            @Html.NavigationRouteLink("Change your PCS selection", null, AatfRedirect.SelectPcsRouteName, new { organisationId = @Model.OrganisationId, returnId = Model.ReturnId, reselect = true })
        </p>
    </div>

    @{
        Html.RenderPartial("_AatfTaskListButton", Model.ReturnId);
    }
</section>