@model EA.Weee.Web.Areas.Admin.ViewModels.Shared.AssociatedEntitiesViewModel

@if (Model.HasAnyRelatedEntities)
{
    <tr class="govuk-table__row">
        <th class="govuk-table__header aatf-details-associated-table-header-title govuk-!-width-one-half" scope="col" style="vertical-align: text-top">
            This organisation also operates
        </th>
        <td>
            <table>
                <tbody>
                    @if (Model.AssociatedAatfs.Any())
                    {
                        <tr class="govuk-table__row">
                            <td class="govuk-table__cell aatf-details-associated-table-cell-title">AATF</td>
                        </tr>
                        foreach (var aatf in Model.AssociatedAatfs)
                        {
                            <tr class="govuk-table__row">
                                <td class="govuk-table__cell aatf-details-associated-table-cell" style="word-break: break-all">
                                    @Html.ActionLink(aatf.NameWithComplianceYear, "Details", "Aatf", new { id = aatf.Id }, null)
                                </td>
                            </tr>
                        }
                    }
                    @if (Model.AssociatedAes.Any())
                    {
                        if (Model.AssociatedAatfs.Any())
                        {
                            <tr class="govuk-table__row">
                                <td>
                                    <br />
                                </td>
                            </tr>
                        }
                        <tr class="govuk-table__row">
                            <td class="govuk-table__cell aatf-details-associated-table-cell-title">AE</td>
                        </tr>
                        foreach (var ae in Model.AssociatedAes)
                        {
                            <tr class="govuk-table__row">
                                <td class="govuk-table__cell aatf-details-associated-table-cell" style="word-break: break-all">
                                    @Html.ActionLink(ae.NameWithComplianceYear, "Details", "Aatf", new { id = ae.Id }, new { })
                                </td>
                            </tr>
                        }
                    }

                    @if (Model.AssociatedSchemes.Any())
                    {
                        if (Model.AssociatedAes.Any() || Model.AssociatedAatfs.Any())
                        {
                            <tr class="govuk-table__row">
                                <td>
                                    <br />
                                </td>
                            </tr>
                        }
                        <tr class="govuk-table__row">
                            <td class="govuk-table__cell aatf-details-associated-table-cell-title">PCS</td>
                        </tr>
                        foreach (var scheme in Model.AssociatedSchemes)
                        {
                            <tr class="govuk-table__row">
                                <td class="govuk-table__cell aatf-details-associated-table-cell" style="word-break: break-all">
                                    @Html.ActionLink(scheme.SchemeNameDisplay, "Overview", "Scheme", new {schemeId = scheme.Id}, null)
                                </td>
                            </tr>
                        }
                    }
                </tbody>
            </table>
        </td>
    </tr>
}
