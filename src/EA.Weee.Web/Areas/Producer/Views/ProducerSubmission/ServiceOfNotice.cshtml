@using EA.Weee.Core.Helpers
@using EA.Weee.Web.Areas.Producer.Controllers
@using EA.Weee.Web.RazorHelpers
@using MvcNavigationHelpers
@model EA.Weee.Web.Areas.Producer.ViewModels.ServiceOfNoticeViewModel

@{
    const string title = "Service of notice";
    ViewBag.Title = title + " - GOV.UK";
}
@section full_main_content
{
    @(this.WeeeGds().BackLink(@Url.UrlFor<EA.Weee.Web.Areas.Scheme.Controllers.HomeController>(a => a.ChooseActivity(Model.OrganisationId))))

    <header class="hgroup">
        <h1 class="govuk-heading-l">@title</h1>
    </header>

    <p>
        Provide your address for the service of notices. <br /><br />

        For authorised representatives of non-UK established producers this will be your preferred address.
    </p>

    <ul class="govuk-task-list">
        @foreach (var task in Model.ProducerTaskModels)
        {
            <li class="govuk-task-list__item govuk-task-list__item--with-link">
                <div class="govuk-task-list__name-and-hint">
                    <a class="govuk-link govuk-task-list__link" href="@Url.Action(task.Action, typeof(ProducerSubmissionController).GetControllerName())" aria-describedby="@(task.TaskLinkName.ToLower().Replace(" ", "-") + "-status")">
                        @task.TaskLinkName
                    </a>
                </div>

                @if (@task.Complete)
                {
                    <div class="govuk-task-list__status" id="company-details-1-status">
                        Completed
                    </div>
                }
                else
                {
                    <div class="govuk-task-list__status" id="company-details-2-status">
                        <strong class="govuk-tag govuk-tag--blue">
                            Incomplete
                        </strong>
                    </div>
                }

            </li>
        }
    </ul>

    @using (Html.BeginForm("CheckAnswers", "Producer", FormMethod.Get, null))
    {
        @Html.AntiForgeryToken()
        <div class="govuk-form-group">
            @(this.WeeeGds().Submit("Check your answers"))
        </div>
    }
}
