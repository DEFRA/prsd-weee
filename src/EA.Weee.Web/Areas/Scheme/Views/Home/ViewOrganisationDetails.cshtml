@using EA.Prsd.Core.Web.Mvc.RazorHelpers
@using EA.Weee.Core.Organisations
@using EA.Weee.Web.RazorHelpers
@model EA.Weee.Web.Areas.Scheme.ViewModels.ViewOrganisationDetailsViewModel
@{
    ViewBag.Title = "View organisation details";
}

@section main_content
{
    <header class="hgroup">
        @if (Model.OrganisationData.OrganisationType == OrganisationType.Partnership || Model.OrganisationData.OrganisationType == OrganisationType.SoleTraderOrIndividual)
        {
        <h1 class="heading-large">Principal place of business details</h1>
        }
        else
        {
        <h1 class="heading-large">Registered office details</h1>
        }
    </header>

    @using (Html.BeginForm(actionName: "ViewOrganisationDetails", controllerName: "Home", method: FormMethod.Post))
    {
        @Html.AntiForgeryToken()
        @Html.Gds().ValidationSummary()

        if (Model.OrganisationData.OrganisationType == OrganisationType.SoleTraderOrIndividual)
        {
            @(this.WeeeGds().DataTable("Principal place of business details", new Dictionary<string, object>
              {
                { "Organisation type", "Sole trader or individual" },
                { "Business trading name", Model.OrganisationData.TradingName },
                { "Address line 1", Model.OrganisationData.BusinessAddress.Address1 },
                { "Address line 2", Model.OrganisationData.BusinessAddress.Address2 },
                { "Town or city", Model.OrganisationData.BusinessAddress.TownOrCity },
                { "County or region", Model.OrganisationData.BusinessAddress.CountyOrRegion },
                { "Postcode", Model.OrganisationData.BusinessAddress.Postcode },
                { "Country", Model.OrganisationData.BusinessAddress.CountryName },
                { "Telephone number", Model.OrganisationData.BusinessAddress.Telephone },
                { "Email address", Model.OrganisationData.BusinessAddress.Email }
              }))
        }
        else if (Model.OrganisationData.OrganisationType == OrganisationType.Partnership)
        {
            @(this.WeeeGds().DataTable("Principal place of business details", new Dictionary<string, object>
              {
                { "Organisation type", "Partnership" },
                { "Business trading name", Model.OrganisationData.TradingName },
                { "Address line 1", Model.OrganisationData.BusinessAddress.Address1 },
                { "Address line 2", Model.OrganisationData.BusinessAddress.Address2 },
                { "Town or city", Model.OrganisationData.BusinessAddress.TownOrCity },
                { "County or region", Model.OrganisationData.BusinessAddress.CountyOrRegion },
                { "Postcode", Model.OrganisationData.BusinessAddress.Postcode },
                { "Country", Model.OrganisationData.BusinessAddress.CountryName },
                { "Telephone number", Model.OrganisationData.BusinessAddress.Telephone },
                { "Email address", Model.OrganisationData.BusinessAddress.Email }
              }))
        }
        else
        {
            @(this.WeeeGds().DataTable("Registered office details", new Dictionary<string, object>
              {
                { "Organisation type", "Registered company" },
                { "Company name", Model.OrganisationData.Name },
                { "Company number", Model.OrganisationData.CompanyRegistrationNumber },
                { "Business trading name", Model.OrganisationData.TradingName },
                { "Address line 1", Model.OrganisationData.BusinessAddress.Address1 },
                { "Address line 2", Model.OrganisationData.BusinessAddress.Address2 },
                { "Town or city", Model.OrganisationData.BusinessAddress.TownOrCity },
                { "County or region", Model.OrganisationData.BusinessAddress.CountyOrRegion },
                { "Postcode", Model.OrganisationData.BusinessAddress.Postcode },
                { "Country", Model.OrganisationData.BusinessAddress.CountryName },
                { "Telephone number", Model.OrganisationData.BusinessAddress.Telephone },
                { "Email address", Model.OrganisationData.BusinessAddress.Email }
              }))
        }
     
        @Html.Partial("_CompetentAuthoritiesContactDetails", new ViewDataDictionary { { "title", "Contact us to change your details" } })

        <div class="form-group">
            <button class="button" type="submit">Perform another activity</button>
        </div>
    }
}
