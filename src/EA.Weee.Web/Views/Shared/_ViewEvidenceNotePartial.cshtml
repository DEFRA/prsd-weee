@using EA.Weee.Core.Helpers
@using EA.Weee.Web.RazorHelpers
@using EA.Weee.Web.Areas.Aatf.ViewModels
@model EA.Weee.Web.Areas.Aatf.ViewModels.ViewEvidenceNoteViewModel

@{

    <h1 class="govuk-heading-l govuk-!-padding-top-5">
        Evidence note
    </h1>
    
    <div class="govuk-width-container govuk-!-margin-top-3 ">

        <div class="govuk-grid-row govuk-!-width-two-thirds govuk-!-margin-bottom-1">
            @Html.Gds().DisplayFor(m => m.Reference, @Model.ReferenceDisplay)
        </div>

        <div class="govuk-grid-row govuk-!-width-two-thirds govuk-!-margin-bottom-1">
            @Html.Gds().DisplayFor(m => m.Status, @Model.Status.ToDisplayString())
        </div>

        <div class="govuk-grid-row govuk-!-width-two-thirds govuk-!-margin-bottom-1">
            @Html.Gds().DisplayFor(m => m.ComplianceYearDisplay, @Model.ComplianceYearDisplay)
        </div>

        <div class="govuk-grid-row govuk-!-width-two-thirds govuk-!-margin-bottom-1">
            @Html.Gds().DisplayFor(m => m.WasteDisplay, @Model.WasteDisplay)
        </div>

        <div class="govuk-grid-row govuk-!-width-two-thirds govuk-!-margin-bottom-1">
            @Html.Gds().DisplayFor(m => m.ProtocolDisplay, @Model.ProtocolDisplay)
        </div>
    </div>

    <div class="govuk-width-container govuk-!-margin-top-3 govuk-!-padding-left-0">
        <div class="govuk-grid-column-one-third govuk-!-padding-left-0">
            <span id="site" class="govuk-label--s">Site</span><br />
            <span aria-labelledby="site" class="govuk-body"> @Html.Raw(@Model.SiteAddress)</span>
        </div>
        <div class="govuk-grid-column-one-third govuk-!-padding-left-0 ">
            <span id="operator" class="govuk-label--s">Operator</span><br />
            <span aria-labelledby="operator" class="govuk-body">@Html.Raw(@Model.OperatorAddress)</span>
        </div>
        <div class="govuk-grid-column-one-third govuk-!-padding-left-0">
            <span id="recipient" class="govuk-label--s">Recipient</span><br />
            <span aria-labelledby="recipient" class="govuk-body">@Html.Raw(@Model.RecipientAddress)</span>
        </div>
    </div>
    <div class="ui-helper-clearfix"></div>
    <div class="govuk-width-container govuk-!-padding-top-5">
        <p>
            By submitting this information you confirm that the following waste and electronic equipment from UK <strong>@Model.WasteDisplay</strong> has been received between
            <strong>@(Model.StartDate.ToShortDateString())</strong> and <strong>@(Model.EndDate.ToShortDateString())</strong> at this site.
            It has been reused as whole appliances to the extent set out below. No other evidence has been issued on these WEEE materials.
        </p>
    </div>
    <table class="govuk-table">
        <thead class="govuk-table__head">
            <tr>
                <th scope="col" class="govuk-table__header govuk-!-width-one-half">Category</th>
                <th scope="col" class="govuk-table__header govuk-!-width-one-quarter weee-tonnage-right-aligned-display">Total received (tonnes)</th>
                <th scope="col" class="govuk-table__header govuk-!-width-one-quarter weee-tonnage-right-aligned-display">Re-used as whole appliances (tonnes)</th>
            </tr>
        </thead>

        <tbody class="govuk-table__body">

            @for (var i = 0; i < Model.CategoryValues.Count; i++)
            {
                var category = Model.CategoryValues[i];

                <tr class="govuk-table__row" id="category-row-@category.CategoryId">
                    <td class="govuk-table__cell">
                        <span id="@category.CategoryId-label">@(@category.CategoryId). @category.CategoryDisplay</span>
                    </td>
                    <td class="govuk-table__cell weee-tonnage-right-aligned-display">
                        @Html.Gds().VisuallyHidden("Received for " + @category.CategoryDisplay) @category.Received
                    </td>
                    <td class="govuk-table__cell weee-tonnage-right-aligned-display">
                        @Html.Gds().VisuallyHidden("Reused for " + @category.CategoryDisplay) @category.Reused
                    </td>
                </tr>
            }

            <tr class="govuk-table__row">
                <td class="govuk-table__cell">
                    <h2 class="govuk-heading-m">Total</h2>
                </td>
                <td class="govuk-table__cell govuk-table__cell--numeric">
                    <h2 class="govuk-heading-m weee-tonnage-right-aligned-display" id="ReceivedTotal">@Model.ReceivedTotal</h2>
                </td>
                <td class="govuk-table__cell govuk-table__cell--numeric">
                    <h2 class="govuk-heading-m weee-tonnage-right-aligned-display" id="ReusedTotal">@Model.ReusedTotal</h2>
                </td>
            </tr>

        </tbody>
    </table>
 
    @*<div class="govuk-!-margin-top-3">
            @this.WeeeGds().Submit("Download as PDF", new { name = "Action", value = ActionEnum.Submit })
        </div>*@

}
