@using EA.Weee.Core.Organisations
@using EA.Weee.Web.RazorHelpers
@model EA.Weee.Web.ViewModels.OrganisationRegistration.OrganisationSummaryViewModel
@{
    ViewBag.Title = "Review Organisation Details";
}

@section main_content
{
    <header class="hgroup">
        <h1 class="heading-large">Check your details before creating your organisation</h1>
    </header>

    @using (Html.BeginForm("ConfirmOrganisationDetails", "OrganisationRegistration", new { OrganisationId = Model.OrganisationData.Id }))
    {
        @Html.AntiForgeryToken()
        @Html.Gds().ValidationSummary()

        @Html.HiddenFor(m => m.OrganisationData.Id)
        @Html.HiddenFor(m => m.OrganisationData.OrganisationType)
        @Html.HiddenFor(m => m.OrganisationData.Name)
        @Html.HiddenFor(m => m.OrganisationData.CompanyRegistrationNumber)
        @Html.HiddenFor(m => m.OrganisationData.TradingName)
        @Html.HiddenFor(m => m.OrganisationData.Contact.FirstName)
        @Html.HiddenFor(m => m.OrganisationData.Contact.LastName)
        @Html.HiddenFor(m => m.OrganisationData.Contact.Position)
        @Html.HiddenFor(m => m.OrganisationData.OrganisationAddress.Address1)
        @Html.HiddenFor(m => m.OrganisationData.OrganisationAddress.Address2)
        @Html.HiddenFor(m => m.OrganisationData.OrganisationAddress.CountryId)
        @Html.HiddenFor(m => m.OrganisationData.OrganisationAddress.CountryName)
        @Html.HiddenFor(m => m.OrganisationData.OrganisationAddress.CountyOrRegion)
        @Html.HiddenFor(m => m.OrganisationData.OrganisationAddress.Email)
        @Html.HiddenFor(m => m.OrganisationData.OrganisationAddress.Postcode)
        @Html.HiddenFor(m => m.OrganisationData.OrganisationAddress.Telephone)
        @Html.HiddenFor(m => m.OrganisationData.OrganisationAddress.TownOrCity)
        @Html.HiddenFor(m => m.OrganisationData.BusinessAddress.Address1)
        @Html.HiddenFor(m => m.OrganisationData.BusinessAddress.Address2)
        @Html.HiddenFor(m => m.OrganisationData.BusinessAddress.CountryId)
        @Html.HiddenFor(m => m.OrganisationData.BusinessAddress.CountryName)
        @Html.HiddenFor(m => m.OrganisationData.BusinessAddress.CountyOrRegion)
        @Html.HiddenFor(m => m.OrganisationData.BusinessAddress.Email)
        @Html.HiddenFor(m => m.OrganisationData.BusinessAddress.Postcode)
        @Html.HiddenFor(m => m.OrganisationData.BusinessAddress.Telephone)
        @Html.HiddenFor(m => m.OrganisationData.BusinessAddress.TownOrCity)

        <table>
            <tbody>
                <tr>
                    <td colspan="2"><h2 class="heading-medium">Organisation details</h2></td>
                </tr>
                <tr>
                    <th>Organisation type</th>
                    <td>
                        @if (Model.OrganisationData.OrganisationType == OrganisationType.SoleTraderOrIndividual)
                        {
                            @:Sole trader or individual
                    }
                        else if (Model.OrganisationData.OrganisationType == OrganisationType.Partnership)
                        {
                            @:Partnership
                    }
                        else if (Model.OrganisationData.OrganisationType == OrganisationType.RegisteredCompany)
                        {
                            @:Registered company
                    }
                    </td>
                </tr>
                @if (Model.OrganisationData.OrganisationType == OrganisationType.RegisteredCompany)
                {
                    <tr>
                        <th>
                            Company name
                        </th>
                        <td>@Model.OrganisationData.Name</td>
                    </tr>
                    <tr>
                        <th>
                            Company registration number (CRN)
                        </th>
                        <td>@Model.OrganisationData.CompanyRegistrationNumber</td>
                    </tr>
                }
                <tr>
                    <th>
                        Business trading name
                    </th>
                    <td>@Model.OrganisationData.TradingName</td>
                </tr>
                <tr>
                    <td colspan="2" class="editLine">
                        <a href="@Url.Action("Type", new { organisationId = Model.OrganisationData.Id })" title="Edit your organisation details">Edit your organisation details</a>
                    </td>
                </tr>


                <tr>
                    <td colspan="2"><h2 class="heading-medium">Main contact</h2></td>
                </tr>
                <tr>
                    <th>Full name</th>
                    <td>@Model.OrganisationData.Contact.FirstName @Model.OrganisationData.Contact.LastName</td>
                </tr>
                <tr>
                    <th>Position</th>
                    <td>@Model.OrganisationData.Contact.Position</td>
                </tr>
                <tr>
                    <td colspan="2" class="editLine">
                        <a href="@Url.Action("MainContactPerson", new { organisationId = Model.OrganisationData.Id })" title="Edit main contact">Edit main contact</a>
                    </td>
                </tr>



                <tr>
                    <td colspan="2"><h2 class="heading-medium">Main contact details</h2></td>
                </tr>
                <tr>
                    <th valign="top">Address</th>
                    <td>
                        @Model.OrganisationData.OrganisationAddress.Address1<br />
                        @if (Model.OrganisationData.OrganisationAddress.Address2 != null)
                        {
                            @Model.OrganisationData.OrganisationAddress.Address2<br />
                        }
                        @Model.OrganisationData.OrganisationAddress.TownOrCity<br />
                        @if (Model.OrganisationData.OrganisationAddress.CountyOrRegion != null)
                        {
                            @Model.OrganisationData.OrganisationAddress.CountyOrRegion<br />
                        }
                        @if (Model.OrganisationData.OrganisationAddress.Postcode != null)
                        {
                            @Model.OrganisationData.OrganisationAddress.Postcode<br />
                        }
                        @Model.OrganisationData.OrganisationAddress.CountryName<br />
                    </td>
                </tr>
                <tr>
                    <th>Telephone</th>
                    <td>@Model.OrganisationData.OrganisationAddress.Telephone</td>
                </tr>
                <tr>
                    <th>Email address</th>
                    <td>@Model.OrganisationData.OrganisationAddress.Email</td>
                </tr>
                <tr>
                    <td colspan="2" class="editLine">
                        <a href="@Url.Action("OrganisationAddress", new { organisationId = Model.OrganisationData.Id })" title="Edit main contact details">Edit main contact details</a>
                    </td>
                </tr>



                <tr>
                    <td colspan="2">
                        @if (Model.OrganisationData.OrganisationType == OrganisationType.Partnership || Model.OrganisationData.OrganisationType == OrganisationType.SoleTraderOrIndividual)
                        {
                            <h2 class="heading-medium" title="Your-principal-place-of-business">Principal place of business</h2>
                        }
                        else if (Model.OrganisationData.OrganisationType == OrganisationType.RegisteredCompany)
                        {
                            <h2 class="heading-medium" title="Your-registered-company">Registered company details</h2>
                        }
                    </td>
                </tr>
                <tr>
                    <th valign="top">Address</th>
                    <td>
                        @Model.OrganisationData.BusinessAddress.Address1<br />
                        @if (Model.OrganisationData.BusinessAddress.Address2 != null)
                        {
                            @Model.OrganisationData.BusinessAddress.Address2<br />
                        }
                        @Model.OrganisationData.BusinessAddress.TownOrCity<br />
                        @if (Model.OrganisationData.BusinessAddress.CountyOrRegion != null)
                        {
                            @Model.OrganisationData.BusinessAddress.CountyOrRegion<br />
                        }
                        @if (Model.OrganisationData.BusinessAddress.Postcode != null)
                        {
                            @Model.OrganisationData.BusinessAddress.Postcode<br />
                        }
                        @Model.OrganisationData.BusinessAddress.CountryName<br />
                    </td>
                </tr>
                <tr>
                    <th>Telephone</th>
                    <td>@Model.OrganisationData.BusinessAddress.Telephone</td>
                </tr>
                <tr>
                    <th>Email address</th>
                    <td>@Model.OrganisationData.BusinessAddress.Email</td>
            </tr>
            <tr>
                <td colspan="2" class="editLine">
                    @if (Model.OrganisationData.OrganisationType == OrganisationType.Partnership || Model.OrganisationData.OrganisationType == OrganisationType.SoleTraderOrIndividual)
                    {
                        <a href="@Url.Action("RegisteredOfficeAddress", new { organisationId = Model.OrganisationData.Id })" title="Edit principal place of business">Edit principal place of business</a>
                    }
                    else if (Model.OrganisationData.OrganisationType == OrganisationType.RegisteredCompany)
                    {
                        <a href="@Url.Action("RegisteredOfficeAddress", new { organisationId = Model.OrganisationData.Id })" title="Edit registered company details">Edit registered company details</a>
                    }
                </td>
            </tr>
        </tbody>
    </table>
        <br />

        <p>By creating your organisation, you are confirming that the information you’ve provided is accurate and complete.</p>

        @Html.Partial("_PrivacyPolicy");

        <div class="form-group @Html.Gds().FormGroupClass(m => m.PrivacyPolicy)">
            @Html.Gds().ValidationMessageFor(m => m.PrivacyPolicy)
            <label class="block-label" for="PrivacyPolicy">
                @Html.CheckBoxFor(m => m.PrivacyPolicy, new { @id = "PrivacyPolicy" })
                Confirm you have read our privacy policy
            </label>
        </div>

        <div>
            <input type="submit" class="button" value="Create organisation" />
        </div>
    }
}

